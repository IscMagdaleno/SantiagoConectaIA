@inherits EngramaComponent




    <MudGrid Justify="Justify.SpaceBetween" Class="mb-4">
        <MudItem>
            <MudText Typo="Typo.h4" Style="color: #A50A3A; font-weight: bold;">
                Oficinas Disponibles
            </MudText>
        </MudItem>
        <MudItem>
        @if (bShowFormOficinas.False())
            {
                <MudFab StartIcon="@Icons.Material.Filled.Add"
                        Label="Agregar Nuevo"
                        Color="Color.Success"
                    OnClick="OnClickShowOrHideForm" />
            }
            else
            {
                <MudFab StartIcon="@Icons.Material.Filled.ArrowBack"
                        Label="Volver"
                        Color="Color.Secondary"
                    OnClick="OnClickShowOrHideForm" />
            }
        </MudItem>
    </MudGrid>

@if (bShowFormOficinas)
    {
        <MudPaper Class="pa-4">

        <FormOficina Data="Data" OnOficinaSaved="OnOficinaSaved"></FormOficina>

        </MudPaper>
    }
    else
    {
        @if (Data.LstTramites.NotEmpty())
        {
            <MudItem sm="12">
                <FiltroTramites FiltroTexto="@filtroTexto"
                                FiltroTextoChanged="CuandoCambiaTexto">
                </FiltroTramites>
            </MudItem>

            @if (listaFiltrada.NotEmpty())
            {
                <MudGrid Spacing="4">
                    @foreach (var tramite in listaFiltrada)
                    {
                        <MudItem xs="12" sm="6" md="4" lg="3">
                            <CardOficina Oficina="@tramite"
                                          Data="@Data"
                                     OnOficinaSelected="OnOficinaSelected"
                                     OnDeleteOficina="OnDeleteOficina">
                            </CardOficina>
                        </MudItem>
                    }
                </MudGrid>
            }
            else
            {
                <MudAlert Severity="Severity.Info" Variant="Variant.Outlined">
                    No se encontraron trámites que coincidan con "@filtroTexto".
                </MudAlert>
            }
        }
        else
        {
            <MudItem sm="12">
                <MudAlert Severity="Severity.Normal"
                          Variant="Variant.Outlined">
                    No existen Trámites registrados.
                </MudAlert>
            </MudItem>
        }
    }

